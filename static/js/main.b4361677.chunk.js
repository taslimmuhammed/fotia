(this.webpackJsonpcladis=this.webpackJsonpcladis||[]).push([[0],{61:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(26),s=c.n(n),i=(c(61),c(8)),l=c(3),r=Object(a.createContext)(null),j=Object(a.createContext)(null);function o(e){var t=e.children,c=Object(a.useState)(null),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(l.jsx)(j.Provider,{value:{user:s,setUser:r},children:t})}c.p,c(63);var d=c(88),u=c(84),b=c(89),O=(c(64),c(10));var h=function(){var e=Object(O.g)(),t=Object(a.useContext)(j).user,c=Object(a.useContext)(r).firebase;return Object(l.jsx)(d.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(l.jsxs)(u.a,{children:[Object(l.jsx)(d.a.Brand,{to:"#home",children:Object(l.jsx)("div",{className:"n1",children:"Fotia"})}),Object(l.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(l.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:Object(l.jsxs)(b.a,{className:"nav1",children:[Object(l.jsx)(b.a.Link,{to:"#",children:"About"}),Object(l.jsx)(b.a.Link,{eventKey:2,to:"myproducts",onClick:function(){return e.push("/myproducts")},children:"Your_Cases"}),t?Object(l.jsx)(b.a.Link,{to:"/signup",onClick:function(){c.auth().signOut().then((function(){e.push("/login")})).catch((function(e){console.log("Error Occured. Could'nt SignOut")}))},children:"Log_Out"}):Object(l.jsx)(b.a.Link,{to:"/login",onClick:function(){return e.push("/login")},children:"LogIn"}),t?Object(l.jsx)(b.a.Link,{to:"#",children:Object(l.jsx)("div",{className:"s1",children:t.displayName})}):Object(l.jsx)(b.a.Link,{to:"/signup",onClick:function(){return e.push("/signup")},children:Object(l.jsx)("div",{className:"s1",children:"SignUp"})})]})})]})})},m=c(56),x=(c(71),c(4)),f=c(85),p=c(86),v=(c(72),Object(a.createContext)(null));function g(e){var t=e.children,c=Object(a.useState)(null),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(l.jsx)(v.Provider,{value:{PostDetails:s,setPostDetails:r},children:t})}var N=Object(a.createContext)(null);function C(e){var t=e.children,c=Object(a.useState)(""),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(l.jsx)(N.Provider,{value:{proSearch:s,setproSearch:r},children:t})}var S=c(31),y=c.n(S);c(37);var P=function(){var e=Object(a.useState)("NewDelhi"),t=Object(i.a)(e,2),c=(t[0],t[1],Object(a.useContext)(N)),n=c.proSearch,s=c.setproSearch,j=Object(O.g)(),o=Object(a.useContext)(r).firebase,d=Object(a.useState)([]),u=Object(i.a)(d,2),b=u[0],h=u[1],m=Object(a.useContext)(v),g=(m.PostDetails,m.setPostDetails);return Object(a.useEffect)((function(){o.firestore().collection("products").get().then((function(e){var t=e.docs.filter((function(e){return e.data().Location.toLowerCase().includes(n)})).map((function(e){return Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id})}));h(t),console.log("updated")}))}),[n]),y.a.init(),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsxs)("div",{className:"f1",children:[Object(l.jsxs)("div",{className:"f11",children:[Object(l.jsx)("div",{className:"f2",children:Object(l.jsxs)("div",{className:"placeSearch dropbtn",onClick:function(){document.getElementById("myDropdown").classList.toggle("show")},children:[n,"  ^"]})}),Object(l.jsx)("div",{className:"dropdown-content",id:"myDropdown",children:["NewDelhi","Calicut","Thrissur","Kochi","Thiruvandapuram","Banglore","Mumbai"].map((function(e){return Object(l.jsx)("div",{onClick:function(){s(e.toLowerCase()),document.getElementById("myDropdown").classList.toggle("show")},className:"drop-box",children:e})}))})]}),Object(l.jsx)("div",{className:"f12",onClick:function(){j.push("/create")},children:"+Add"})]}),Object(l.jsx)("div",{className:"c-main",children:Object(l.jsx)(f.a,{children:b.map((function(e){return Object(l.jsx)(p.a,{lg:3,md:6,sm:6,xs:12,className:"c-0","data-aos":"fade-up",onClick:function(){g(e),j.push("/view")},children:Object(l.jsxs)("div",{className:"card-main",children:[Object(l.jsx)("img",{src:e.url,className:"card-img"}),Object(l.jsx)("div",{className:"card-heading",children:e.name}),Object(l.jsx)("div",{className:"card-text",children:e.type}),Object(l.jsx)("div",{className:"card-text",children:e.Location}),Object(l.jsx)("div",{className:"card-text",children:e.Phone})]})})}))})})]})};var w=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{}),Object(l.jsx)(P,{})]})},D=c(7);c(73);function L(){var e=Object(a.useContext)(r).firebase,t=Object(O.g)(),c=Object(a.useState)(""),n=Object(i.a)(c,2),s=n[0],j=n[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),u=d[0],b=d[1],m=Object(a.useState)(""),x=Object(i.a)(m,2),f=x[0],p=x[1],v=Object(a.useState)(""),g=Object(i.a)(v,2),N=g[0],C=g[1];return Object(l.jsxs)("div",{className:"l1",children:[Object(l.jsx)(h,{}),Object(l.jsxs)("div",{className:"signupParentDiv",children:[Object(l.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.auth().createUserWithEmailAndPassword(u,f).then((function(c){c.user.updateProfile({displayName:u}).then((function(){e.firestore().collection("users").add({id:c.user.uid,userName:u,phone:N}).then((function(){return t.push("/login")}))}))}))},children:[Object(l.jsx)("label",{htmlFor:"fname",children:"Username"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",Object(D.a)({className:"input",type:"text",id:"fname",name:"name",defaultValue:"John",value:s,onChange:function(e){j(e.target.value)}},"className","in1")),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"fname",children:"Email"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",Object(D.a)({className:"input",type:"email",id:"fname",name:"email",defaultValue:"John",value:u,onChange:function(e){return b(e.target.value)}},"className","in1")),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"lname",children:"Phone"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",Object(D.a)({className:"input",type:"number",id:"lname",name:"phone",defaultValue:"Doe",value:N,onChange:function(e){return C(e.target.value)}},"className","in1")),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"lname",children:"Password"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",Object(D.a)({className:"input",type:"password",id:"lname",name:"password",defaultValue:"Doe",value:f,onChange:function(e){return p(e.target.value)}},"className","in1")),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{children:"Signup"})]}),Object(l.jsx)("a",{onClick:function(){return t.push("/login")},children:"Login"})]})]})}c(74);var k=function(){var e,t,c=Object(a.useState)(""),n=Object(i.a)(c,2),s=n[0],j=n[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),u=d[0],b=d[1],m=Object(a.useContext)(r).firebase,x=Object(O.g)();return Object(l.jsxs)("div",{className:"l1",children:[Object(l.jsx)(h,{}),Object(l.jsxs)("div",{className:"loginParentDiv",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.auth().signInWithEmailAndPassword(s,u).then((function(){x.push("/")})).catch((function(e){alert(e.message)}))},children:[Object(l.jsx)("label",{htmlFor:"fname",children:"Email"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",(e={className:"input",type:"email",id:"fname",name:"email",defaultValue:"John"},Object(D.a)(e,"className","in1"),Object(D.a)(e,"value",s),Object(D.a)(e,"onChange",(function(e){return j(e.target.value)})),e)),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"lname",children:"Password"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",(t={className:"input",type:"password",id:"lname",name:"password"},Object(D.a)(t,"className","in1"),Object(D.a)(t,"defaultValue","Doe"),Object(D.a)(t,"value",u),Object(D.a)(t,"onChange",(function(e){return b(e.target.value)})),t)),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{children:"Login"})]}),Object(l.jsx)("a",{onClick:function(){x.push("/signup")},children:"Signup"})]})]})},F=(c(75),function(){var e,t,c,n=Object(O.g)(),s=Object(a.useContext)(r).firebase,o=Object(a.useContext)(j).user,d=Object(a.useState)(""),u=Object(i.a)(d,2),b=u[0],h=u[1],m=Object(a.useState)(""),x=Object(i.a)(m,2),f=x[0],p=x[1],v=Object(a.useState)("newDelhi"),g=Object(i.a)(v,2),N=g[0],C=g[1],S=Object(a.useState)(""),y=Object(i.a)(S,2),P=y[0],w=y[1],L=Object(a.useState)(null),k=Object(i.a)(L,2),F=k[0],I=k[1],E=Object(a.useState)({}),T=Object(i.a)(E,2),B=T[0],A=T[1],U=new Date,V=function(e){var t=e.coords.latitude,c=e.coords.longitude;A({latitude:t,longitude:c})},J=function(){alert(" Unable to retrieve your location. London is set as default location.")};Object(a.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(V,J,{timeout:5e3,enableHighAccuracy:!0}):alert("Geolocation is not supported by this browser.")}),[B]);return Object(l.jsx)("div",{className:"l1",children:Object(l.jsx)(a.Fragment,{children:Object(l.jsx)("card",{children:Object(l.jsxs)("div",{className:"centerDiv",children:[Object(l.jsx)("label",{htmlFor:"fname",children:"first Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",(e={className:"input",type:"text",id:"fname",name:"Name",defaultValue:"John",value:b,onChange:function(e){h(e.target.value)}},Object(D.a)(e,"className","in1"),Object(D.a)(e,"maxLength","10"),e)),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"fname",children:"Type of incident"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",(t={className:"input",type:"text",id:"fname",name:"Name",defaultValue:"Flood",value:f,onChange:function(e){p(e.target.value)}},Object(D.a)(t,"className","in1"),Object(D.a)(t,"maxLength","25"),t)),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"fname",children:"Location"}),Object(l.jsx)("br",{}),Object(l.jsxs)("select",(c={className:"input",id:"fname",name:"Location",defaultValue:"cars",value:N,onChange:function(e){C(e.target.value)}},Object(D.a)(c,"className","in1"),Object(D.a)(c,"style",{color:"black"}),Object(D.a)(c,"children",[Object(l.jsx)("option",{value:"NewDelhi",children:"NewDelhi"}),Object(l.jsx)("option",{value:"Calicut",children:"Calicut"}),Object(l.jsx)("option",{value:"Thrissur",children:"Thrissur"}),Object(l.jsx)("option",{value:"Kochi",children:"Kochi"}),Object(l.jsx)("option",{value:"Thiruvandapuram",children:"Thiruvandapuram"}),Object(l.jsx)("option",{value:"Banglore",children:"Banglore"}),Object(l.jsx)("option",{value:"Mumbai",children:"Mumbai"})]),c)),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"fname",children:"Phone"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",Object(D.a)({className:"input",type:"number",id:"fname",name:"Phone",value:P,onChange:function(e){w(e.target.value)}},"className","in1")),Object(l.jsx)("br",{}),Object(l.jsx)("img",{alt:"Posts",width:"200px",height:"200px",src:F?URL.createObjectURL(F):null}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"file",onChange:function(e){I(e.target.files[0])},className:"in1"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(){s.storage().ref("/image/".concat(F.name)).put(F).then((function(e){return e.ref.getDownloadURL().then((function(e){console.log(e),s.firestore().collection("products").add({name:b,Location:N,Phone:P,url:e,type:f,createdAt:U.toDateString(),userId:o.uid,location:B}).then(n.push("/"))}))}))},className:"uploadBtn",children:"upload and Submit"})]})})})})}),I=c(87);var E=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(O.g)(),o=Object(a.useContext)(r).firebase,d=Object(a.useContext)(j).user,u=Object(a.useContext)(v);return u.PostDetails,u.setPostDetails,Object(a.useEffect)((function(){o.firestore().collection("products").get().then((function(e){var t=e.docs.filter((function(e){return e.data().userId==d.uid})).map((function(e){return Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id})}));n(t),console.log("updated")}))}),[c]),y.a.init(),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)(h,{}),Object(l.jsx)("div",{className:"c-main",children:Object(l.jsx)(f.a,{children:c.map((function(e){return Object(l.jsx)(p.a,{lg:3,md:6,sm:6,xs:12,className:"c-0","data-aos":"fade-up",children:Object(l.jsxs)("div",{className:"card-main-1",children:[Object(l.jsx)("img",{src:e.url,className:"card-img"}),Object(l.jsx)("div",{className:"card-heading",children:e.name}),Object(l.jsx)("div",{className:"card-text",children:e.type}),Object(l.jsx)("div",{className:"card-text",children:e.Location}),Object(l.jsx)("div",{className:"card-text",children:e.Phone}),Object(l.jsx)(I.a,{variant:"outline-danger",className:"bt1",onClick:function(){o.firestore().collection("products").doc(e.id).delete().then((function(){alert("".concat(e.name," deleted succesfully")),s.push("/myproducts")})).catch((function(){return alert("Error, could not delete the item")}))},children:"Delete Case"})]})})}))})})]})};c(76);var T=function(){y.a.init();var e=Object(a.useState)(),t=Object(i.a)(e,2),c=(t[0],t[1]),n=(Object(a.useContext)(v).postDetails,Object(a.useContext)(v)),s=n.PostDetails,j=(n.setPostDetails,Object(a.useContext)(r).firebase);return Object(a.useEffect)((function(){var e=s.userId;j.firestore().collection("users").where("id","==",e).get().then((function(e){e.forEach((function(e){c(e.data()),console.log("updated")}))}))}),[s]),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)(h,{}),Object(l.jsxs)(f.a,{className:"view",children:[Object(l.jsxs)(p.a,{lg:6,md:12,sm:12,xs:12,"data-aos":"fade-left",children:[Object(l.jsx)("div",{className:"view-img",children:Object(l.jsx)("img",{src:s.url,alt:"Product image",className:"Product"})}),Object(l.jsx)("div",{className:"btn-5",children:Object(l.jsx)("a",{href:"tel: ".concat(s.Phone),children:Object(l.jsx)(I.a,{variant:"success",children:Object(l.jsx)("div",{className:"btn-6",children:" Contact "})})})})]}),Object(l.jsxs)(p.a,{lg:6,md:12,sm:12,xs:12,"data-aos":"fade-left",children:[Object(l.jsxs)("div",{className:"text-main",children:[Object(l.jsx)("div",{className:"t5",children:"Name:"}),Object(l.jsxs)("div",{className:"t6",children:[s.name," "]}),Object(l.jsx)("div",{className:"hr"}),Object(l.jsx)("div",{className:"t5",children:"Location:"}),Object(l.jsx)("div",{className:"t6",children:s.Location}),Object(l.jsx)("div",{className:"hr"}),Object(l.jsx)("div",{className:"t5",children:"Type of incident:"}),Object(l.jsx)("div",{className:"t6",children:s.type}),Object(l.jsx)("div",{className:"hr"}),Object(l.jsx)("div",{className:"t5",children:"Phone Number:"}),Object(l.jsx)("div",{className:"t6",children:s.Phone}),Object(l.jsx)("div",{className:"hr"}),Object(l.jsx)("div",{className:"t5",children:"Date:"}),Object(l.jsx)("div",{className:"t6",children:s.createdAt}),Object(l.jsx)("div",{className:"hr"}),s.location1?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"t5",children:"Longitude:"}),Object(l.jsx)("div",{className:"t6",children:s.location1.longitude}),Object(l.jsx)("div",{className:"hr"}),Object(l.jsx)("div",{className:"t5",children:"Latitude:"}),Object(l.jsx)("div",{className:"t6",children:s.location1.latitude}),Object(l.jsx)("div",{className:"hr"})]}):null,";"]})," "]})]}),Object(l.jsx)("div",{className:"t7","data-aos":"fade-up",children:"Location:"}),Object(l.jsx)("div",{className:"map-1","data-aos":"fade-up",children:Object(l.jsx)("img",{className:"map-2",src:"https://xmonkeys360.com/wp-content/uploads/2020/02/Googlemap-600x551-1.jpg"})})]})};var B=function(){var e=Object(a.useContext)(j).setUser,t=Object(a.useContext)(r).firebase;return Object(a.useEffect)((function(){t.auth().onAuthStateChanged((function(t){e(t)}))})),Object(l.jsx)(m.a,{children:Object(l.jsx)("div",{children:Object(l.jsx)(C,{children:Object(l.jsxs)(O.d,{children:[Object(l.jsx)(O.b,{exact:!0,path:"/",children:Object(l.jsx)(w,{})}),Object(l.jsx)(O.b,{path:"/signup",children:Object(l.jsx)(L,{})}),Object(l.jsx)(O.a,{to:"/",path:"/fotia",children:" "}),Object(l.jsx)(O.b,{path:"/login",children:Object(l.jsx)(k,{})}),Object(l.jsx)(O.b,{path:"/create",children:Object(l.jsx)(F,{})}),Object(l.jsxs)(O.b,{path:"/view",children:[Object(l.jsx)(T,{})," "]}),Object(l.jsx)(O.b,{path:"/myproducts",children:Object(l.jsx)(E,{})})]})})})})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))},U=c(47),V=(c(80),c(81),U.a.initializeApp({apiKey:"AIzaSyDumB-So8NHSTTPqWNK7psIuIjofxt_qa0",authDomain:"cladis-7eaa0.firebaseapp.com",projectId:"cladis-7eaa0",storageBucket:"cladis-7eaa0.appspot.com",messagingSenderId:"806193959954",appId:"1:806193959954:web:6758a4fd6f8baa5b9fb4cb",measurementId:"G-Z53W7MQNY5"}));s.a.render(Object(l.jsx)(r.Provider,{value:{firebase:V},children:Object(l.jsx)(o,{children:Object(l.jsx)(g,{children:Object(l.jsx)(B,{})})})}),document.getElementById("root")),A()}},[[82,1,2]]]);
//# sourceMappingURL=main.b4361677.chunk.js.map